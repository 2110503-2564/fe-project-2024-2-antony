(()=>{var e={};e.id=4,e.ids=[4],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5718:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var s=r(65239),n=r(48088),o=r(88170),i=r.n(o),a=r(30893),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let c={children:["",{children:["(page)",{children:["reservation",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,75616)),"C:\\Users\\Gun\\Desktop\\FE\\fe-project-2024-2-antony\\src\\app\\(page)\\reservation\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,44251)),"C:\\Users\\Gun\\Desktop\\FE\\fe-project-2024-2-antony\\src\\app\\(page)\\reservation\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,87158)),"C:\\Users\\Gun\\Desktop\\FE\\fe-project-2024-2-antony\\src\\app\\(page)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\Gun\\Desktop\\FE\\fe-project-2024-2-antony\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\Gun\\Desktop\\FE\\fe-project-2024-2-antony\\src\\app\\(page)\\reservation\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(page)/reservation/page",pathname:"/reservation",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7527:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Gun\\\\Desktop\\\\FE\\\\fe-project-2024-2-antony\\\\src\\\\components\\\\Menu.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Gun\\Desktop\\FE\\fe-project-2024-2-antony\\src\\components\\Menu.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15779:(e,t,r)=>{Promise.resolve().then(r.bind(r,75616))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21948:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(60687),n=r(43210),o=r(16189),i=r(27418);async function a({massageShopId:e,reserveDate:t,token:r}){console.log("createReservation",e,t,r);try{let s=await fetch(`https://antony-massage-backend-production.up.railway.app/api/v1/massage-shops/${e}/reservations`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({reserveDate:t})}),n=await s.text();if(!s.ok)throw console.error("API Error:",n),Error(JSON.parse(n).message);return JSON.parse(n)}catch(e){throw e}}r(96515);var l=r(85668),c=r.n(l),d=r(22269),u=r.n(d);function h(){let[e,t]=(0,n.useState)([]),[r,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(null);(0,o.useRouter)(),(0,o.useSearchParams)();let u=async()=>{let e=localStorage.getItem("token");if(!r||!c||!e){alert("Please select both a shop and a date.");return}try{await a({massageShopId:r,reserveDate:c.format("YYYY-MM-DD"),token:e}),alert("Reservation successful!"),l(""),d(null)}catch(e){console.error("Error making reservation:",e),alert(`Error: ${e.message}`)}};return(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6",children:(0,s.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-8 w-full max-w-md",children:[(0,s.jsxs)("div",{className:"mb-4 w-full",children:[(0,s.jsx)("label",{className:"block text-lg font-semibold mb-2 w-full",children:"Date Reservation"}),(0,s.jsx)(i.A,{selectedDate:c,setSelectedDate:d})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-lg font-semibold mb-2",children:"Massage Shop"}),(0,s.jsxs)("select",{className:"w-full rounded-lg p-3 bg-gray-100 text-gray-700 hover:cursor-pointer",value:r,onChange:e=>l(e.target.value),children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Select Massage Shop"}),e.map(e=>(0,s.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,s.jsx)("button",{onClick:u,className:"hover:cursor-pointer w-full bg-red-600 text-white py-3 rounded-lg font-semibold text-lg hover:bg-red-500 transition",children:"Make a reservation"})]})})}c().extend(u())},22269:function(e){var t,r,s;t="minute",r=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g,e.exports=function(e,n,o){var i=n.prototype;o.utc=function(e){var t={date:e,utc:!0,args:arguments};return new n(t)},i.utc=function(e){var r=o(this.toDate(),{locale:this.$L,utc:!0});return e?r.add(this.utcOffset(),t):r},i.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var a=i.parse;i.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),a.call(this,e)};var l=i.init;i.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var c=i.utcOffset;i.utcOffset=function(e,n){var o=this.$utils().u;if(o(e))return this.$u?0:o(this.$offset)?c.call(this):this.$offset;if("string"==typeof e&&null===(e=function(e){void 0===e&&(e="");var t=e.match(r);if(!t)return null;var n=(""+t[0]).match(s)||["-",0,0],o=n[0],i=60*+n[1]+ +n[2];return 0===i?0:"+"===o?i:-i}(e)))return this;var i=16>=Math.abs(e)?60*e:e,a=this;if(n)return a.$offset=i,a.$u=0===e,a;if(0!==e){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(a=this.local().add(i+l,t)).$offset=i,a.$x.$localOffset=l}else a=this.utc();return a};var d=i.format;i.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,t)},i.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var u=i.toDate;i.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var h=i.diff;i.diff=function(e,t,r){if(e&&this.$u===e.$u)return h.call(this,e,t,r);var s=this.local(),n=o(e).local();return h.call(s,n,t,r)}}},22332:(e,t,r)=>{"use strict";r.d(t,{default:()=>b});var s=r(60687),n=r(43210),o=r(85814),i=r.n(o),a=r(16189),l=r(32192),c=r(22982),d=r(96474),u=r(40228),h=r(58869),p=r(40083),f=r(47367);function m({setLogin:e}){let[t,r]=(0,n.useState)(!1),[o,m]=(0,n.useState)(!1),g=(0,f.A)(),b=(0,a.usePathname)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"fixed bottom-0 w-full bg-white border-t border-gray-200 py-2 px-4 flex justify-between md:hidden",children:[(0,s.jsx)(v,{href:"/",pathname:b,icon:l.A,label:"Home"}),(0,s.jsx)(v,{href:"/massageshop",pathname:b,icon:c.A,label:"Shops"}),(0,s.jsx)("div",{className:"relative -top-6",children:(0,s.jsx)(i(),{href:"/reservation",children:(0,s.jsx)("button",{className:"w-16 h-16 rounded-2xl bg-red-600 text-white flex items-center justify-center shadow-lg",children:(0,s.jsx)(d.A,{size:28})})})}),(0,s.jsx)(v,{href:"/myreservation",pathname:b,icon:u.A,label:"My reserve"}),(0,s.jsx)(v,{href:"/profile",pathname:b,icon:h.A,label:"Profile"})]}),(0,s.jsxs)("div",{className:"fixed w-70 h-screen bg-white border-gray-200 border-r pt-22 md:flex flex-col hidden",children:[(0,s.jsx)("div",{className:"px-4 py-2",children:(0,s.jsx)(i(),{href:"/reservation",children:(0,s.jsxs)("button",{className:"hover:cursor-pointer w-full p-3 text-white bg-red-600 border rounded-lg hover:bg-red-500 flex items-center gap-2 transition",children:[(0,s.jsx)(d.A,{size:20}),(0,s.jsx)("span",{children:"Make Reservation"})]})})}),(0,s.jsxs)("nav",{className:"flex-1 px-4 py-2 space-y-2",children:[(0,s.jsx)(x,{href:"/",pathname:b,icon:l.A,label:"Home"}),(0,s.jsx)(x,{href:"/massageshop",pathname:b,icon:c.A,label:"Massage shops"}),(0,s.jsx)(x,{href:"/myreservation",pathname:b,icon:u.A,label:o?"All reservations":"My reservations"}),(0,s.jsx)(x,{href:"/profile",pathname:b,icon:h.A,label:"Profile"})]}),t&&(0,s.jsx)("div",{className:"px-4 py-2 pb-4",children:(0,s.jsxs)("button",{onClick:()=>{g(()=>r(!1)),e(!1)},className:"px-16 w-full flex items-center justify-between p-3 border border-red-600 text-red-600 rounded-lg hover:bg-red-100 hover:cursor-pointer transition-colors",children:[(0,s.jsx)("span",{children:"Logout"}),(0,s.jsx)(p.A,{size:18})]})})]})]})}function x({href:e,pathname:t,icon:r,label:n}){let o=t===e;return(0,s.jsxs)(i(),{href:e,className:`flex items-center gap-3 p-3 rounded-lg transition-colors ${o?"bg-gray-100 text-red-600":"text-gray-700 hover:text-gray-950 hover:bg-gray-100"}`,children:[(0,s.jsx)(r,{size:20}),n]})}function v({href:e,pathname:t,icon:r,label:n}){let o=t===e;return(0,s.jsxs)(i(),{href:e,className:`flex flex-col items-center text-xs transition-colors ${o?"text-red-600":"text-gray-500 hover:text-gray-900"}`,children:[(0,s.jsx)(r,{size:24}),n]})}function g({isLogin:e}){let[t,r]=(0,n.useState)(null),[o,l]=(0,n.useState)(!1),c=(0,a.useRouter)(),d=(0,a.usePathname)(),u=()=>({"/":"Home","/massageshop":"Massage Shops","/reservation":"Make Reservation","/myreservation":`${o?"All reservations":"My reservations"}`,"/profile":"Profile"})[d]||"";return(0,s.jsxs)("div",{className:"fixed top-0 left-0 w-full flex items-center py-4 bg-white border-b border-gray-200 md:h-[80px] flex-col md:flex-row space-y-5 md:space-y-0",children:[(0,s.jsxs)(i(),{href:"/",className:"text-4xl font-bold w-72 text-center flex-shrink-0",children:[(0,s.jsx)("span",{className:"text-red-600",children:"Antony"})," Massage"]}),(0,s.jsxs)("div",{className:"w-full px-6 flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-lg text-red-600 font-semibold ",children:u()}),(0,s.jsx)("div",{className:"text-gray-700 text-lg ",children:e?"Profile"!=u()?`Hello, ${t}`:null:(0,s.jsx)("button",{onClick:()=>c.push("/login"),className:"bg-red-600 hover:bg-red-500 text-white px-6 py-2 rounded-lg hover:cursor-pointer font-semibold",children:"Login"})})]})]})}function b(){let[e,t]=(0,n.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m,{setLogin:function(e){t(e)}}),(0,s.jsx)(g,{isLogin:e})]})}},27418:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(60687),n=r(81158),o=r(29956),i=r(80748);function a({selectedDate:e,setSelectedDate:t}){return(0,s.jsx)(o.$,{dateAdapter:i.R,children:(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(n.l,{className:"w-full bg-gray-100",value:e,onChange:e=>t(e),slotProps:{textField:{sx:{width:"100%",backgroundColor:"#F3F4F6",borderRadius:"8px",color:"#374151","& .MuiOutlinedInput-root":{"& fieldset":{border:"none"}},"& .MuiInputBase-input":{color:"#374151",fontSize:"16px",height:"10px"},"& .MuiSvgIcon-root":{color:"#374151"}}}}})})})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},43033:(e,t,r)=>{Promise.resolve().then(r.bind(r,7527))},44251:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(37413),n=r(61120),o=r(75616);function i(){return(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading..."}),children:(0,s.jsx)(o.default,{})})}},47367:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(16189);function n(){let e=(0,s.useRouter)();return t=>{localStorage.removeItem("user"),localStorage.removeItem("token"),t&&t(),e.push("/")}}},52893:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},57629:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},61135:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64364:(e,t,r)=>{Promise.resolve().then(r.bind(r,21948))},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(31658);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},75616:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Gun\\\\Desktop\\\\FE\\\\fe-project-2024-2-antony\\\\src\\\\app\\\\(page)\\\\reservation\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Gun\\Desktop\\FE\\fe-project-2024-2-antony\\src\\app\\(page)\\reservation\\page.tsx","default")},77516:(e,t,r)=>{Promise.resolve().then(r.bind(r,75616))},77853:()=>{},79481:(e,t,r)=>{Promise.resolve().then(r.bind(r,22332))},79551:e=>{"use strict";e.exports=require("url")},81435:(e,t,r)=>{Promise.resolve().then(r.bind(r,21948))},82589:()=>{},87158:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(37413),n=r(7527);function o({children:e}){return(0,s.jsxs)("div",{children:[(0,s.jsx)(n.default,{}),(0,s.jsx)("div",{className:"md:pl-70 min-h-screen",children:e})]})}},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,metadata:()=>i});var s=r(37413);r(61135);var n=r(9238),o=r.n(n);let i={title:"Antony Massage",description:"Generated by create next app",icons:{icon:"/image/favicon.ico"}};function a({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:o().className,children:e})})}},96515:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=async()=>{let e=await fetch("https://antony-massage-backend-production.up.railway.app/api/v1/massage-shops");if(!e.ok)throw Error("Failed to fetch shops");return await e.json()}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,372,934,130,645,158],()=>r(5718));module.exports=s})();