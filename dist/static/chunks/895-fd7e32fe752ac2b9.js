"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{3895:(e,r,t)=>{t.d(r,{default:()=>b});var a=t(5155),s=t(2115),l=t(6874),o=t.n(l),n=t(5695),i=t(9946);let c=(0,i.A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),d=(0,i.A)("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),h=(0,i.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),u=(0,i.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),x=(0,i.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var m=t(4835),f=t(9355);function p(e){let{setLogin:r}=e,[t,l]=(0,s.useState)(!1),[i,p]=(0,s.useState)(!1),v=(0,f.A)(),b=(0,n.usePathname)(),j=()=>{try{let e=localStorage.getItem("user");if(e){let r=JSON.parse(e);return"admin"===r.role}}catch(e){console.error("Error parsing user data:",e)}return!1};return(0,s.useEffect)(()=>{l(!!localStorage.getItem("user")),p(j)},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"fixed bottom-0 w-full bg-white border-t border-gray-200 py-2 px-4 flex justify-between md:hidden",children:[(0,a.jsx)(y,{href:"/",pathname:b,icon:c,label:"Home"}),(0,a.jsx)(y,{href:"/massageshop",pathname:b,icon:d,label:"Shops"}),(0,a.jsx)("div",{className:"relative -top-6",children:(0,a.jsx)(o(),{href:"/reservation",children:(0,a.jsx)("button",{className:"w-16 h-16 rounded-2xl bg-red-600 text-white flex items-center justify-center shadow-lg",children:(0,a.jsx)(h,{size:28})})})}),(0,a.jsx)(y,{href:"/myreservation",pathname:b,icon:u,label:"My reserve"}),(0,a.jsx)(y,{href:"/profile",pathname:b,icon:x,label:"Profile"})]}),(0,a.jsxs)("div",{className:"fixed w-70 h-screen bg-white border-gray-200 border-r pt-22 md:flex flex-col hidden",children:[(0,a.jsx)("div",{className:"px-4 py-2",children:(0,a.jsx)(o(),{href:"/reservation",children:(0,a.jsxs)("button",{className:"hover:cursor-pointer w-full p-3 text-white bg-red-600 border rounded-lg hover:bg-red-500 flex items-center gap-2 transition",children:[(0,a.jsx)(h,{size:20}),(0,a.jsx)("span",{children:"Make Reservation"})]})})}),(0,a.jsxs)("nav",{className:"flex-1 px-4 py-2 space-y-2",children:[(0,a.jsx)(g,{href:"/",pathname:b,icon:c,label:"Home"}),(0,a.jsx)(g,{href:"/massageshop",pathname:b,icon:d,label:"Massage shops"}),(0,a.jsx)(g,{href:"/myreservation",pathname:b,icon:u,label:i?"All reservations":"My reservations"}),(0,a.jsx)(g,{href:"/profile",pathname:b,icon:x,label:"Profile"})]}),t&&(0,a.jsx)("div",{className:"px-4 py-2 pb-4",children:(0,a.jsxs)("button",{onClick:()=>{v(()=>l(!1)),r(!1)},className:"px-16 w-full flex items-center justify-between p-3 border border-red-600 text-red-600 rounded-lg hover:bg-red-100 hover:cursor-pointer transition-colors",children:[(0,a.jsx)("span",{children:"Logout"}),(0,a.jsx)(m.A,{size:18})]})})]})]})}function g(e){let{href:r,pathname:t,icon:s,label:l}=e,n=t===r;return(0,a.jsxs)(o(),{href:r,className:"flex items-center gap-3 p-3 rounded-lg transition-colors ".concat(n?"bg-gray-100 text-red-600":"text-gray-700 hover:text-gray-950 hover:bg-gray-100"),children:[(0,a.jsx)(s,{size:20}),l]})}function y(e){let{href:r,pathname:t,icon:s,label:l}=e,n=t===r;return(0,a.jsxs)(o(),{href:r,className:"flex flex-col items-center text-xs transition-colors ".concat(n?"text-red-600":"text-gray-500 hover:text-gray-900"),children:[(0,a.jsx)(s,{size:24}),l]})}function v(e){let{isLogin:r}=e,[t,l]=(0,s.useState)(null),[i,c]=(0,s.useState)(!1),d=(0,n.useRouter)(),h=(0,n.usePathname)(),u=()=>{try{let e=localStorage.getItem("user");if(e){let r=JSON.parse(e);return"admin"===r.role}}catch(e){console.error("Error parsing user data:",e)}return!1},x=()=>({"/":"Home","/massageshop":"Massage Shops","/reservation":"Make Reservation","/myreservation":"".concat(i?"All reservations":"My reservations"),"/profile":"Profile"})[h]||"";return(0,s.useEffect)(()=>{c(u);try{let e=localStorage.getItem("user");if(e){let r=JSON.parse(e);l(r.name)}}catch(e){console.error("Failed to parse user data",e),localStorage.removeItem("user"),localStorage.removeItem("token")}},[]),(0,a.jsxs)("div",{className:"fixed top-0 left-0 w-full flex items-center py-4 bg-white border-b border-gray-200 md:h-[80px] flex-col md:flex-row space-y-5 md:space-y-0",children:[(0,a.jsxs)(o(),{href:"/",className:"text-4xl font-bold w-72 text-center flex-shrink-0",children:[(0,a.jsx)("span",{className:"text-red-600",children:"Antony"})," Massage"]}),(0,a.jsxs)("div",{className:"w-full px-6 flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-lg text-red-600 font-semibold ",children:x()}),(0,a.jsx)("div",{className:"text-gray-700 text-lg ",children:r?"Profile"!=x()?"Hello, ".concat(t):null:(0,a.jsx)("button",{onClick:()=>d.push("/login"),className:"bg-red-600 hover:bg-red-500 text-white px-6 py-2 rounded-lg hover:cursor-pointer font-semibold",children:"Login"})})]})]})}function b(){let[e,r]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{localStorage.getItem("token")&&r(!0)},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{setLogin:function(e){r(e)}}),(0,a.jsx)(v,{isLogin:e})]})}},4835:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(9946).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},5695:(e,r,t)=>{var a=t(8999);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},9355:(e,r,t)=>{t.d(r,{A:()=>s});var a=t(5695);function s(){let e=(0,a.useRouter)();return r=>{localStorage.removeItem("user"),localStorage.removeItem("token"),r&&r(),e.push("/")}}},9946:(e,r,t)=>{t.d(r,{A:()=>i});var a=t(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:h,...u}=e;return(0,a.createElement)("svg",{ref:r,...o,width:s,height:s,stroke:t,strokeWidth:i?24*Number(n)/Number(s):n,className:l("lucide",c),...u},[...h.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(d)?d:[d]])}),i=(e,r)=>{let t=(0,a.forwardRef)((t,o)=>{let{className:i,...c}=t;return(0,a.createElement)(n,{ref:o,iconNode:r,className:l("lucide-".concat(s(e)),i),...c})});return t.displayName="".concat(e),t}}}]);