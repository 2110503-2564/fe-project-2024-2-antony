(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{23:(e,r,t)=>{"use strict";t.d(r,{default:()=>j});var a=t(5155),s=t(2115),o=t(6874),n=t.n(o),l=t(5695);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let h=(0,s.forwardRef)((e,r)=>{let{color:t="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:n,className:l="",children:i,iconNode:h,...d}=e;return(0,s.createElement)("svg",{ref:r,...u,width:a,height:a,stroke:t,strokeWidth:n?24*Number(o)/Number(a):o,className:c("lucide",l),...d},[...h.map(e=>{let[r,t]=e;return(0,s.createElement)(r,t)}),...Array.isArray(i)?i:[i]])}),d=(e,r)=>{let t=(0,s.forwardRef)((t,a)=>{let{className:o,...n}=t;return(0,s.createElement)(h,{ref:a,iconNode:r,className:c("lucide-".concat(i(e)),o),...n})});return t.displayName="".concat(e),t},m=d("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),p=d("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),x=d("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),f=d("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),g=d("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),y=d("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function v(e){let{setLogin:r}=e,[t,o]=(0,s.useState)(!1),[i,c]=(0,s.useState)(!1),u=function(){let e=(0,l.useRouter)();return r=>{localStorage.removeItem("user"),localStorage.removeItem("token"),r&&r(),e.push("/")}}(),h=(0,l.usePathname)(),d=()=>{try{let e=localStorage.getItem("user");if(e){let r=JSON.parse(e);return"admin"===r.role}}catch(e){console.error("Error parsing user data:",e)}return!1};return(0,s.useEffect)(()=>{o(!!localStorage.getItem("user")),c(d)},[]),(0,a.jsxs)("div",{className:"fixed w-70 h-screen bg-white border-gray-200 border-r pt-22 flex flex-col",children:[(0,a.jsx)("div",{className:"px-4 py-2",children:(0,a.jsx)(n(),{href:"/reservation",children:(0,a.jsxs)("button",{className:"hover:cursor-pointer w-full p-3 text-white bg-red-600 border rounded-lg hover:bg-red-500 flex items-center gap-2 transition",children:[(0,a.jsx)(m,{size:20}),(0,a.jsx)("span",{children:"Make Reservation"})]})})}),(0,a.jsxs)("nav",{className:"flex-1 px-4 py-2 space-y-2",children:[(0,a.jsx)(b,{href:"/",pathname:h,icon:p,label:"Home"}),(0,a.jsx)(b,{href:"/massageshop",pathname:h,icon:x,label:"Massage shops"}),(0,a.jsx)(b,{href:"/myreservation",pathname:h,icon:f,label:i?"All reservations":"My reservations"}),(0,a.jsx)(b,{href:"/profile",pathname:h,icon:g,label:"Profile"})]}),t&&(0,a.jsx)("div",{className:"px-4 py-2 pb-4",children:(0,a.jsxs)("button",{onClick:()=>{u(()=>o(!1)),r(!1)},className:"px-16 w-full flex items-center justify-between p-3 border border-red-600 text-red-600 rounded-lg hover:bg-red-100 hover:cursor-pointer transition-colors",children:[(0,a.jsx)("span",{children:"Logout"}),(0,a.jsx)(y,{size:18})]})})]})}function b(e){let{href:r,pathname:t,icon:s,label:o}=e,l=t===r;return(0,a.jsxs)(n(),{href:r,className:"flex items-center gap-3 p-3 rounded-lg transition-colors ".concat(l?"bg-gray-100 text-red-600":"text-gray-700 hover:text-gray-950 hover:bg-gray-100"),children:[(0,a.jsx)(s,{size:20}),o]})}function k(e){let{isLogin:r}=e,[t,o]=(0,s.useState)(null),[i,c]=(0,s.useState)(!1),u=(0,l.useRouter)(),h=(0,l.usePathname)(),d=()=>{try{let e=localStorage.getItem("user");if(e){let r=JSON.parse(e);return"admin"===r.role}}catch(e){console.error("Error parsing user data:",e)}return!1},m=()=>({"/":"Home","/massageshop":"Massage Shops","/reservation":"Make Reservation","/myreservation":"".concat(i?"All reservations":"My reservations"),"/profile":"Profile"})[h]||"";return(0,s.useEffect)(()=>{c(d);try{let e=localStorage.getItem("user");if(e){let r=JSON.parse(e);o(r.name)}}catch(e){console.error("Failed to parse user data",e),localStorage.removeItem("user"),localStorage.removeItem("token")}},[]),(0,a.jsxs)("div",{className:"fixed top-0 left-0 w-full flex items-center py-4 bg-white border-b border-gray-200 h-[80px]",children:[(0,a.jsxs)(n(),{href:"/",className:"text-4xl font-bold w-72 text-center flex-shrink-0",children:[(0,a.jsx)("span",{className:"text-red-600",children:"Antony"})," Massage"]}),(0,a.jsxs)("div",{className:"w-full px-6 flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-lg text-red-600 font-semibold",children:m()}),(0,a.jsx)("div",{className:"text-gray-700 text-lg",children:r?"Profile"!=m()?"Hello, ".concat(t):null:(0,a.jsx)("button",{onClick:()=>u.push("/login"),className:"bg-red-600 hover:bg-red-500 text-white px-6 py-2 rounded-lg hover:cursor-pointer font-semibold",children:"Login"})})]})]})}function j(){let[e,r]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{localStorage.getItem("token")&&r(!0)},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v,{setLogin:function(e){r(e)}}),(0,a.jsx)(k,{isLogin:e})]})}},5695:(e,r,t)=>{"use strict";var a=t(8999);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},6089:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,6874,23)),Promise.resolve().then(t.bind(t,23))}},e=>{var r=r=>e(e.s=r);e.O(0,[874,441,684,358],()=>r(6089)),_N_E=e.O()}]);